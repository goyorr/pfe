<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LAPit - Clavier</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<!-- <body style="background-color: #534597;" > -->
<body >
<header>
  <div class="container">
     <h1 >LAPitInfo</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="products.html">Tous les produits</a>
      
        <div class="dropdown">
          <button class="dropbtn">Categories</button>
          <div class="dropdown-content">
            <a href="pcportable.html">Pc portable</a>
            <a href="casque.html">Casque</a>
            <a href="clavier.html">Clavier</a>
            <a href="souris.html">Souris</a>
          </div>
        </div>
      
        <a href="cart.html">Cart</a>
        <!-- <a href="admin/index.html">Admin</a> -->
      </nav>
  </div>
</header>

    <main class="container">
        <h2 style="color: black;">All Products</h2>
        <div id="product-list" class="products-grid"></div>
    </main>

<footer class="container">
  <p>&copy; 2025 LAPit.</p>
  <p>Email: support@LAPit.com</p>
  <p>Address: 123 Main Street, Casablanca, Morocco</p>
  <p>+212 6 23 64 85 02</p>
  <p>+212 6 23 64 85 02</p>
</footer>


<script>
    async function loadProducts() {
        try {

            const category = 'clavier';

            const response = await fetch('http://localhost:8080/api/products');
            const products = await response.json();

            const filteredProducts = products.filter(product => product.category.toLowerCase() === category.toLowerCase());

            const productList = document.getElementById('product-list');

            productList.innerHTML = '';

            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';

                productCard.innerHTML = `
                    <img src="${product.img}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>${product.description}</p>
                    <p>MAD ${product.price.toFixed(2)}</p>
                    <p>In stock: ${product.stock}</p>
                    <a href="product.html?id=${product.id}" class="button">View Details</a>
                `;

                productList.appendChild(productCard);
            });

            if (products.length === 0) {
                productList.innerHTML = '<p>No products available at this time.</p>';
            }
        } catch (error) {
            console.error('Error loading products:', error);
            document.getElementById('product-list').innerHTML = 
                '<p>Error loading products. Please try again later.</p>';
        }
    }   

    window.onload = loadProducts;
</script>



</body>
</html>
